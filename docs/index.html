<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Use prediction data from countdowntogroundhogday.com and weather data from the U.S. National Ocean and Atmospheric Administration (NOAA) to evaluate which Groundhog Day prognosticators you can trust.">
<title>An R package for analyzing Groundhog Day (Feb 2) weather predictions • feb2</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="An R package for analyzing Groundhog Day (Feb 2) weather predictions">
<meta property="og:description" content="Use prediction data from countdowntogroundhogday.com and weather data from the U.S. National Ocean and Atmospheric Administration (NOAA) to evaluate which Groundhog Day prognosticators you can trust.">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@ericpgreen">
<meta name="twitter:site" content="@ericpgreen">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">feb2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ericpgreen/feb2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="feb2-">feb2 <img src="reference/figures/hex.png" align="right" alt="" width="120"><a class="anchor" aria-label="anchor" href="#feb2-"></a>
</h1></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Every year on February 2, <a href="https://en.wikipedia.org/wiki/Groundhog_Day" class="external-link">Groundhog Day</a>, the famous groundhog <a href="https://en.wikipedia.org/wiki/Punxsutawney_Phil" class="external-link">Punxsutawney Phil</a>—and a growing cast of creatures (including stuffed animals, sock puppets, and mascots)—emerge from their burrows to predict the weather. Punxsutawney Phil, the prognosticator of prognosticators, has been predicting the weather since 1887. If he sees his shadow, his prediction is for six more weeks of winter. If not, he predicts an early spring.</p>
<p>This package brings together prediction data from <a href="https://countdowntogroundhogday.com/" class="external-link">Countdown to Groundhog Day</a> and weather data from the <a href="https://www.noaa.gov/" class="external-link">U.S. National Ocean and Atmospheric Administration (NOAA)</a> to help you evaluate which prognosticators you can trust.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ericpgreen/feb2"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Currently this is a function-less data package designed to facilitate your analyses of Groundhog Day prediction data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ericpgreen.github.io/feb2/">feb2</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="datasets">Datasets<a class="anchor" aria-label="anchor" href="#datasets"></a>
</h2>
<p>There are three main datasets and several supporting datasets.</p>
<div class="figure">
<img src="reference/figures/feb2%20data.png" alt=""><p class="caption">Datasets</p>
</div>
<div class="section level3">
<h3 id="prognosticators">
<code>prognosticators</code><a class="anchor" aria-label="anchor" href="#prognosticators"></a>
</h3>
<p>Michael Venos, the creator of <a href="https://countdowntogroundhogday.com/" class="external-link">Countdown to Groundhog Day</a>, maintains the internet’s most comprehensive database about Groundhog Day predictions. He generously agreed to allow me to incorporate his data into this package. Currently he has data on a diverse collection of 153 prognosticators.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="va">prognosticators</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">prognosticator_status</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt; # Groups:   prognosticator_status [3]</span></span>
<span><span class="co">#&gt;   prognosticator_status     n</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                 &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 Creature                110</span></span>
<span><span class="co">#&gt; 2 Human Mascot             11</span></span>
<span><span class="co">#&gt; 3 Inanimate                32</span></span></code></pre></div>
<p>Rodents are by far the most common prognosticators. One lobster is holding it down for the arthropods.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prognosticators</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">prognosticator_phylum</span>, <span class="va">prognosticator_class</span>, <span class="va">prognosticator_order</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 15 × 4</span></span>
<span><span class="co">#&gt; # Groups:   prognosticator_phylum, prognosticator_class, prognosticator_order</span></span>
<span><span class="co">#&gt; #   [15]</span></span>
<span><span class="co">#&gt;    prognosticator_phylum prognosticator_class prognosticator_order     n</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                 &lt;chr&gt;                &lt;chr&gt;                &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 Arthropoda            Malacostraca         Decapoda                 1</span></span>
<span><span class="co">#&gt;  2 Chordata              Actinopterygii       Perciformes              1</span></span>
<span><span class="co">#&gt;  3 Chordata              Amphibia             Anura                    1</span></span>
<span><span class="co">#&gt;  4 Chordata              Aves                 Anseriformes             2</span></span>
<span><span class="co">#&gt;  5 Chordata              Aves                 Galliformes              1</span></span>
<span><span class="co">#&gt;  6 Chordata              Aves                 Strigiformes             1</span></span>
<span><span class="co">#&gt;  7 Chordata              Mammalia             Artiodactyla             1</span></span>
<span><span class="co">#&gt;  8 Chordata              Mammalia             Carnivora                9</span></span>
<span><span class="co">#&gt;  9 Chordata              Mammalia             Cingulata                1</span></span>
<span><span class="co">#&gt; 10 Chordata              Mammalia             Didelphimorphia          3</span></span>
<span><span class="co">#&gt; 11 Chordata              Mammalia             Eulipotyphla             7</span></span>
<span><span class="co">#&gt; 12 Chordata              Mammalia             Rodentia               121</span></span>
<span><span class="co">#&gt; 13 Chordata              Mammalia             Tubulidentata            1</span></span>
<span><span class="co">#&gt; 14 Chordata              Reptilia             Crocodilia               2</span></span>
<span><span class="co">#&gt; 15 Chordata              Reptilia             Testudines               1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="predictions">
<code>predictions</code><a class="anchor" aria-label="anchor" href="#predictions"></a>
</h3>
<p>Michael has collected 1488 predictions going back to Punxsutawney Phil’s first prediction in 1887. Some years the prediction is uncertain or not recorded, accounting for the <code>NA</code>s.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">predictions</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">prediction</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt; # Groups:   prediction [3]</span></span>
<span><span class="co">#&gt;   prediction       n</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 Early Spring   726</span></span>
<span><span class="co">#&gt; 2 Long Winter    733</span></span>
<span><span class="co">#&gt; 3 &lt;NA&gt;            29</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="weather_stations_ghcnd">
<code>weather_stations_ghcnd</code><a class="anchor" aria-label="anchor" href="#weather_stations_ghcnd"></a>
</h3>
<p>Each prognosticator is linked to a city. I used the {<code>tidygeocoder</code>} package to get coordinates for each city and then searched for weather stations with TMAX (daily max air temperature) data within 100km of each city’s coordinates using the <code>meteo_nearby_stations()</code> function in the {<code>rnoaa</code>} package. This dataset lists every eligible weather station within 100km, but the package only uses weather data from (up to) the 10 closest stations.</p>
<p><img src="reference/figures/README-map2-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="class_def1">
<code>class_def1</code><a class="anchor" aria-label="anchor" href="#class_def1"></a>
</h3>
<p>The biggest challenge for evaluating Groundhog Day predictions is defining what we mean by “early spring”. So far in this package I follow the general approach of earlier analyses by <a href="https://www.ncei.noaa.gov/news/groundhog-day-forecasts-and-climate-history" class="external-link">NOAA</a> and <a href="https://fivethirtyeight.com/features/groundhogs-do-not-make-good-meteorologists/" class="external-link">538</a>. I define early spring for a prognosticator’s location as one month (February OR March) with an average high temperature above the historical average for that month.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;538 uses the 15-year rolling mean, and so do I.&lt;/p&gt;"><sup>1</sup></a> Unlike the previous analyses, however, I use local data for each prognosticator. NOAA used U.S. national temperatures, and 538 looked across nine U.S. regions.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;NOAA evaluated Phil’s predictions from 2012-2021. 538 expanded the scope of the inquiry from 1 to 9 prognosticators, and included more years, 1994-2021.&lt;/p&gt;"><sup>2</sup></a> I think it’s just silly to expect a real or stuffed groundhog to be able to predict national or regional weather based on localized sunshine. I say let’s evaluate their powers of prognostication using local data.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;I refer to this classification definition as &lt;code&gt;def1&lt;/code&gt;.&lt;/p&gt;"><sup>3</sup></a></p>
<p>Steps to construct the classification:</p>
<ol style="list-style-type: decimal">
<li>Identify the 10 weather stations with TMAX data closest to each prognosticator’s city</li>
<li>Use <code><a href="https://docs.ropensci.org/rnoaa/reference/ghcnd_search.html" class="external-link">rnoaa::ghcnd_search()</a></code> to obtain daily historical high temperatures for each station</li>
<li>Calculate the mean daily high temperature for each prognosticator’s city by averaging over the 10 closest weather stations</li>
<li>Calculate the mean monthly high temperature for each prognosticator’s city by averaging over the daily data</li>
<li>Calculate the 15-year rolling mean high monthly temperature for each prognosticator’s city</li>
<li>Use the <code>def1</code> definition to classify each year as “early spring” or “long winter”</li>
</ol>
<p><img src="reference/figures/README-Gobbler-1.png"><!-- --></p>
<p>The <code>class_def1</code> dataset does not contain the underlying weather data, but you can find it in <code>class_def1_data</code>. You can also use the {<code>rnoaa</code>} package and the weather station information in <code>weather_stations_ghcnd</code> and <code>weather_stations_isd</code> to query the weather data directly if you are interested in creating a new classification definition.</p>
</div>
</div>
<div class="section level2">
<h2 id="updates">Updates<a class="anchor" aria-label="anchor" href="#updates"></a>
</h2>
<p>I plan to update the prognosticators, predictions, and classifications data after the month of March (classification definition <code>def1</code> depends on March weather data).</p>
</div>
<div class="section level2">
<h2 id="data-use">Data Use<a class="anchor" aria-label="anchor" href="#data-use"></a>
</h2>
<p>NOAA weather data are in the public domain (as far as I know). Data on prognosticators and their predictions come with permission from <a href="https://countdowntogroundhogday.com/" class="external-link">Countdown to Groundhog Day</a>. You are welcome to use the data via this package for any purpose, but please do not post the raw data on any other public sites. Instead, give credit to Michael’s tremendous effort by pointing back to <a href="https://countdowntogroundhogday.com/" class="external-link">Countdown to Groundhog Day</a>.</p>
<p>This package comes with no warranty of any kind. Don’t rely on me or these rodents to get it right.</p>
</div>
<div class="section level2">
<h2 id="issues">Issues<a class="anchor" aria-label="anchor" href="#issues"></a>
</h2>
<p>Please <a href="https://github.com/ericpgreen/feb2/issues" class="external-link">submit an issue</a> if you encounter any bugs or errors.</p>
</div>
<div class="section level2">
<h2 id="hex-sticker">Hex Sticker<a class="anchor" aria-label="anchor" href="#hex-sticker"></a>
</h2>
<p>The groundhog pixel art is a <a href="https://openai.com/dall-e-2/" class="external-link">DALL-E 2</a> creation.</p>
</div>
</div>


  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ericpgreen/feb2/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ericpgreen/feb2/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>CC0 1.0 Universal (see notes about data licenses)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing feb2</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Eric Green <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Eric Green.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
